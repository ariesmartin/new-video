import{t as i,r as l,j as e,k as x,I as N,af as f,i as p}from"./index-yu4waMHZ.js";import{D as g,b as y,c as v,d as b,g as D}from"./scenes-4ITdBoBR.js";const j={async listShots(s,t,o){const{data:a,error:r}=await i.GET("/api/episodes/{episode_id}/shots",{params:{path:{episode_id:s},query:{scene_id:t,node_type:o}}});if(r)throw r;return a},async getShot(s,t){const{data:o,error:a}=await i.GET("/api/episodes/{episode_id}/shots/{shot_id}",{params:{path:{episode_id:s,shot_id:t}}});if(a)throw a;return o},async createShot(s,t){const{data:o,error:a}=await i.POST("/api/episodes/{episode_id}/shots",{params:{path:{episode_id:s}},body:t});if(a)throw a;return o},async batchCreateShots(s,t){const{data:o,error:a}=await i.POST("/api/episodes/{episode_id}/shots/batch",{params:{path:{episode_id:s}},body:t});if(a)throw a;return o},async updateShot(s,t,o){const{data:a,error:r}=await i.PUT("/api/episodes/{episode_id}/shots/{shot_id}",{params:{path:{episode_id:s,shot_id:t}},body:o});if(r)throw r;return a},async batchUpdatePositions(s,t){const{data:o,error:a}=await i.PUT("/api/episodes/{episode_id}/shots/batch/position",{params:{path:{episode_id:s}},body:t});if(a)throw a;return o},async deleteShot(s,t){const{error:o}=await i.DELETE("/api/episodes/{episode_id}/shots/{shot_id}",{params:{path:{episode_id:s,shot_id:t}}});if(o)throw o}};function _({isOpen:s,onClose:t,suggestedName:o,onConfirm:a,isLoading:r=!1}){const[n,c]=l.useState(o);l.useEffect(()=>{s&&c(o)},[s,o]);const m=()=>{const d=n.trim();d&&a(d)},h=d=>{d.key==="Enter"&&m()};return e.jsx(g,{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:54:5",open:s,onOpenChange:t,children:e.jsxs(y,{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:55:7",className:"sm:max-w-md bg-surface border-border",children:[e.jsxs(v,{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:56:9",children:[e.jsxs("div",{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:57:11",className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:58:13",className:"p-2 rounded-full bg-primary/10",children:e.jsx(x,{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:59:15",className:"w-5 h-5 text-primary"})}),e.jsx(b,{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:61:13",className:"text-lg font-semibold text-text-primary",children:"确认小说名称"})]}),e.jsx(D,{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:65:11",className:"text-text-secondary",children:"AI已为您生成小说初稿，请确认或修改小说名称"})]}),e.jsxs("div",{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:70:9",className:"space-y-4 py-4",children:[e.jsxs("div",{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:71:11",className:"space-y-2",children:[e.jsx("label",{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:72:13",className:"text-sm font-medium text-text-primary",children:"小说名称"}),e.jsx(N,{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:75:13",value:n,onChange:d=>c(d.target.value),onKeyDown:h,placeholder:"请输入小说名称",className:"bg-background border-border text-text-primary",autoFocus:!0}),e.jsx("p",{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:83:13",className:"text-xs text-text-tertiary",children:"确认后将使用此名称作为项目名称"})]}),e.jsxs("div",{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:88:11",className:"flex items-start gap-2 p-3 rounded-lg bg-primary/5 border border-primary/10",children:[e.jsx(f,{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:89:13",className:"w-4 h-4 text-primary mt-0.5 shrink-0"}),e.jsx("p",{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:90:13",className:"text-sm text-text-secondary",children:"项目名称将同步更新为小说名称，方便您在项目列表中识别"})]})]}),e.jsxs("div",{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:96:9",className:"flex gap-3 justify-end",children:[e.jsx(p,{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:97:11",variant:"outline",onClick:t,disabled:r,className:"border-border text-text-secondary hover:bg-surface",children:"稍后再说"}),e.jsx(p,{"code-path":"src/components/modals/ConfirmNovelNameDialog.tsx:105:11",onClick:m,disabled:r||!n.trim(),className:"bg-primary text-white hover:bg-primary/90",children:r?"保存中...":"确认并开始创作"})]})]})})}export{_ as C,j as s};
