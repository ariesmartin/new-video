# 分镜台 (Storyboard Master) - 产品需求文档 (PRD)

## 文档信息
| 项目 | 内容 |
|------|------|
| 产品名称 | 分镜台 (Storyboard Master) |
| 版本号 | V8.0 |
| 文档版本 | V1.0 |
| 创建日期 | 2026-02-02 |
| 产品定位 | AI驱动的影视分镜创作平台 |

---

## 1. 产品概述

### 1.1 产品简介
分镜台是一款面向影视创作者、导演、编剧的AI辅助分镜创作软件。通过人工智能技术，帮助用户从创意构思到完整分镜的快速生成，提供剧本创作、角色场景管理、分镜绘制、视频预览等全流程服务。

### 1.2 产品愿景
"从想法到荧幕，也许只差下一步。"

### 1.3 核心价值主张
- **AI赋能创作**：利用AI技术快速生成分镜，降低创作门槛
- **全流程覆盖**：从剧本到分镜到视频预览的一体化解决方案
- **专业级输出**：支持多种电影级画风和镜头语言
- **高效协作**：支持项目管理、版本控制和团队协作

### 1.4 目标用户
| 用户类型 | 需求场景 |
|----------|----------|
| 独立导演 | 快速可视化剧本，制作分镜提案 |
| 编剧 | 将文字剧本转化为视觉分镜 |
| 广告创意 | 快速产出创意分镜方案 |
| 动画制作 | 前期分镜规划和视觉设计 |
| 影视学生 | 学习分镜制作和镜头语言 |

---

## 2. 功能架构

### 2.1 系统架构图

```
┌─────────────────────────────────────────────────────────────┐
│                        分镜台 V8.0                           │
├─────────────────────────────────────────────────────────────┤
│  首页工作台  │  项目管理  │  剧本工坊  │  分镜编辑  │  素材工坊  │
├─────────────────────────────────────────────────────────────┤
│                      AI 核心能力层                           │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐       │
│  │ 剧本生成  │ │ 分镜生成  │ │ 图像生成  │ │ 视频生成  │       │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘       │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐       │
│  │ 角色提取  │ │ 场景提取  │ │ 智能扩图  │ │ 局部重绘  │       │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘       │
├─────────────────────────────────────────────────────────────┤
│                      基础服务层                              │
│  用户管理 │ 项目管理 │ 文件存储 │ 支付系统 │ 通知系统        │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 功能模块清单

| 模块 | 功能点 | 优先级 |
|------|--------|--------|
| 首页工作台 | 欢迎界面、快速创建、项目列表 | P0 |
| 项目管理 | 新建项目、极速模式、项目设置 | P0 |
| 剧本工坊 | 剧本编辑、AI扩写、AI润色、章节管理 | P0 |
| 分镜编辑 | 画布操作、镜头卡片、连线、批量生成 | P0 |
| 角色场景 | 角色管理、场景管理、视觉资产 | P1 |
| 素材工坊 | 配音生成、音乐生成 | P1 |
| 系统设置 | 用户设置、偏好设置、主题切换 | P2 |

---

## 3. 详细功能需求

### 3.1 首页工作台

#### 3.1.1 欢迎界面
- **功能描述**：用户登录后看到的第一个界面
- **核心元素**：
  - 时间问候语（"下午好，admin." / "晚上好，admin."）
  - 激励文案（"灵感稍纵即逝，抓住它。"）
  - 创意输入框（支持自然语言输入）
  - 极速模式开关
  - 快捷操作按钮（快速入门教程、进入剧本工坊）
  - 我的项目列表

#### 3.1.2 创意输入
- **输入框提示**："灵感：悬疑恐怖风格，发生在废弃医院，3集..."
- **示例提示**："例如：创建一个赛博朋克风格的悬疑短剧，共8集..."
- **智能联想**：输入时显示相关词汇联想（如输入"guo"显示"国"、"过"、"郭"等）
- **生成按钮**：黄色主按钮"开始生成"

#### 3.1.3 项目列表
- **展示方式**：卡片式布局
- **卡片内容**：
  - 项目封面图
  - 项目名称
  - 项目类型标签（影视短片）
  - 创建时间
  - 集数信息
- **操作**：点击进入项目、新建项目（+按钮）

### 3.2 项目管理

#### 3.2.1 新建项目
- **入口**：首页"新建项目"按钮或对话框输入
- **创建方式**：
  1. 对话框输入创意描述，AI自动生成
  2. 手动创建，填写项目信息
- **极速模式**：
  - 开关控制
  - 开启后自动完成：大纲→剧本→角色场景提取→分镜

#### 3.2.2 项目详情页
- **页面标题**："wuli.cool 呜哩的分镜台 V8.0"
- **布局**：三栏式布局
  - 左侧：剧本/分镜列表
  - 中间：画布区域
  - 右侧：详情/属性面板

### 3.3 剧本工坊

#### 3.3.1 剧本编辑器
- **编辑模式**：
  - 故事模式：富文本编辑
  - 剧本模式：标准剧本格式
- **章节管理**：
  - 左侧章节列表
  - 支持增删改查
  - 章节标题编辑
- **AI功能**：
  - AI扩写：根据大纲扩写完整剧本
  - AI润色：优化文笔和叙事
  - AI灵感助手：提供创作建议

#### 3.3.2 剧本分析
- **自动提取**：角色、场景、道具
- **统计信息**：字数、预估时长、场景数量

### 3.4 分镜编辑核心功能

#### 3.4.1 画布操作
- **无限画布**：支持自由缩放和拖拽
- **视图控制**：
  - 缩放：鼠标滚轮 / Ctrl+滚轮
  - 平移：空格+拖拽 / 鼠标中键
  - 适应屏幕：一键适配所有卡片
- **网格对齐**：可选开启

#### 3.4.2 镜头卡片
- **卡片类型**：
  - Scene_Master：25格分镜总览
  - 单个镜头：具体镜头卡片
  - Reference：参考图卡片
- **卡片内容**：
  - 镜头编号（如 #13）
  - 镜头类型标签（如"大远景(Extreme Long Shot)"）
  - 镜头运动（如"极度俯拍(Bird's Eye View)"）
  - 缩略图
  - 环境音/对白文字
- **卡片操作**：
  - 拖拽移动
  - 右键菜单
  - 双击编辑
  - 多选（Ctrl+点击 / 框选）

#### 3.4.3 镜头详情面板
- **标签页**：
  - 1.剧本：显示对应剧本内容
  - 2.分镜：分镜详情编辑
  - 3.卡片：卡片属性设置
- **状态与属性**：
  - 状态标记：红/黄/蓝/绿/橙五色圆点
  - 景别选择：大远景、远景、中景、特写等
  - 画面内容描述
  - 角色对白
  - 环境音
- **生图参数**：
  - 分辨率：2K高清/4K超清
  - 比例：16:9 / 9:16 / 1:1 / 4:3
  - AI提示词（Visual Prompt）
  - 画风风格选择
- **操作按钮**：
  - 生图
  - 调色
  - 生成动态视频

#### 3.4.4 右键菜单功能
| 功能 | 描述 |
|------|------|
| 复制卡片 | 复制当前镜头卡片 |
| 重新生成 | 重新生成该镜头画面 |
| 衍生下一张 | 基于当前镜头生成下一张 |
| 连线 | 创建镜头间的连接线 |
| 镜头运镜 | 打开虚拟摄像机调整角度 |
| 局部重绘 | 对画面局部进行重绘(Inpaint) |
| 智能扩图 | 扩展画面边缘(Outpaint) |
| 图片裁剪 | 裁剪画面 |
| 刷新这张卡片 | 重新加载卡片 |
| 提取为视觉资产 | 将图片加入资产库 |
| 下载原图 | 下载高清原图 |
| 删除卡片 | 删除该镜头 |

#### 3.4.5 批量生成
- **入口**："一键生成全部分镜"按钮
- **确认弹窗**：显示预估消耗和生成数量
- **批量进度**：显示生成进度（如"6/12 正在创建卡片: SCENE 6"）
- **批量结果**：在画布上生成所有镜头卡片

#### 3.4.6 25格分镜（Scene_Master）
- **布局**：5×5网格布局
- **内容**：25个连续镜头的缩略图
- **操作**：
  - 点击单格查看详情
  - 支持批量选择
  - 可展开为单个镜头卡片

### 3.5 AI图像功能

#### 3.5.1 画面风格
- **风格选项**：
  - 经典胶片（王家卫/颗粒感）
  - 影视写实
  - 现代高亮（Netflix/无噪点）
  - 史诗大片（沙丘/IMAX）
  - 国风3D（凡人/斗罗）
  - 3D潮玩（盲盒/皮克斯）
  - 水墨国风（东方美学）
  - 硬核CG（黑神话/战神）
  - 精致日漫（吉卜力/新海诚）

#### 3.5.2 局部重绘(Inpaint)
- **界面**：弹窗编辑
- **工具**：
  - 画笔工具（红色标记重绘区域）
  - 橡皮擦
  - 撤销/重做
  - 清空
- **操作**：标记需要重绘的区域，输入提示词生成

#### 3.5.3 智能扩图(Outpaint)
- **界面**：弹窗编辑
- **功能**：
  - 画面缩放滑块（1.0x - 2.0x）
  - 红色区域表示待填充区域
  - 输入提示词指导扩图
- **操作**：调整缩放比例，AI自动填充边缘

#### 3.5.4 虚拟摄像机
- **界面**：3D视图弹窗
- **参数**：
  - 水平角度：-180° ~ +180°
  - 垂直角度：-90° ~ +90°
  - 推拉镜头：0.5x ~ 5.0x
  - 焦距：24mm ~ 200mm
  - 光圈：f/1.4 ~ f/22
- **预设机位**：多种常用机位快速选择
- **操作**：拖拽调整视角，实时预览

### 3.6 视频生成

#### 3.6.1 视频生成配置
- **提示词**：基于分镜描述自动生成
- **生成引擎**：
  - Sora（可选）
  - Veo 2.0
  - Veo 3.1 Pro
- **时长**：5秒 / 10秒
- **比例**：16:9（横屏）/ 9:16（竖屏）
- **关键帧**：可选首尾帧

### 3.7 角色与场景管理

#### 3.7.1 角色面板
- **位置**：左侧边栏
- **内容**：
  - 角色列表（头像+名称）
  - 角色详情（名称、描述、参考图）
  - 添加/编辑/删除角色
- **AI提取**：从剧本自动提取角色

#### 3.7.2 场景面板
- **位置**：左侧边栏
- **内容**：
  - 场景列表
  - 场景描述
  - 场景参考图
- **AI提取**：从剧本自动提取场景

### 3.8 素材工坊

#### 3.8.1 配音室(TTS)
- **引擎**：Gemini TTS
- **功能**：
  - 选择音色
  - 输入台词
  - 生成语音
  - 预览和下载

#### 3.8.2 音乐生成
- **引擎**：Suno V3
- **模式**：
  - 纯音乐(Instrumental)
  - 带歌词
- **参数**：
  - 歌曲标题
  - 歌词输入
  - 风格标签

### 3.9 系统功能

#### 3.9.1 顶部导航栏
- **左侧**：Logo、项目名称
- **中间**：通知图标、用户头像/名称、余额显示
- **右侧**：后台、剧本工坊、批量图、导出、日夜模式切换

#### 3.9.2 主题切换
- **模式**：日间模式 / 夜间模式
- **切换方式**：顶部导航栏图标切换

#### 3.9.3 导出功能
- **格式**：
  - 图片：PNG/JPG
  - PDF：分镜PDF
  - 视频：MP4
- **选项**：导出全部/选中部分

---

## 4. 非功能需求

### 4.1 性能需求
| 指标 | 要求 |
|------|------|
| 页面加载时间 | < 3秒 |
| AI生成响应 | < 5秒（首图） |
| 批量生成 | 支持队列，后台执行 |
| 画布流畅度 | 60fps，支持100+卡片 |

### 4.2 兼容性需求
- **浏览器**：Chrome、Edge、Safari、Firefox（最新2个版本）
- **分辨率**：支持1920×1080及以上
- **移动端**：暂不支持，仅桌面端

### 4.3 安全需求
- 用户数据加密存储
- API访问权限控制
- 内容审核机制

### 4.4 可用性需求
- 支持快捷键操作
- 提供操作引导/tutorial
- 错误提示友好

---

## 5. 界面设计规范

### 5.1 色彩系统
| 用途 | 色值 |
|------|------|
| 主色调（黄） | #FFD700 / #FFC107 |
| 背景色（日间） | #F5F5F5 |
| 背景色（夜间） | #1A1A1A |
| 卡片背景（日间） | #FFFFFF |
| 卡片背景（夜间） | #2D2D2D |
| 文字主色 | #333333 / #FFFFFF |
| 文字次要 | #666666 / #AAAAAA |
| 成功色 | #4CAF50 |
| 警告色 | #FF9800 |
| 错误色 | #F44336 |

### 5.2 字体规范
- **标题**：思源黑体 Bold / 24-32px
- **正文**：思源黑体 Regular / 14-16px
- **标签**：思源黑体 Medium / 12-14px

### 5.3 间距规范
- 卡片间距：16px
- 内边距：12-16px
- 圆角：8px（卡片）、4px（按钮）

---

## 6. 术语表

| 术语 | 说明 |
|------|------|
| 分镜 | 将剧本分解为连续的镜头画面 |
| 景别 | 镜头与被摄主体的距离关系（远景、中景、特写等） |
| 机位 | 摄像机的拍摄位置和角度 |
| 运镜 | 摄像机的运动方式（推、拉、摇、移等） |
| Scene_Master | 25格分镜总览卡片 |
| Inpaint | 局部重绘，对画面局部区域重新生成 |
| Outpaint | 智能扩图，扩展画面边缘 |
| TTS | 文本转语音(Text-to-Speech) |

---

## 7. 附录

### 7.1 参考链接
- 视频演示1：https://www.bilibili.com/video/BV1rP6yBfEdu
- 视频演示2：https://www.bilibili.com/video/BV1bG6wBWEoS

### 7.2 更新记录
| 版本 | 日期 | 更新内容 |
|------|------|----------|
| V1.0 | 2026-02-02 | 初始版本 |
