<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIçŸ­å‰§åˆ›ä½œçŸ¥è¯†åº“ | çˆ†æ¬¾é€»è¾‘ä¸æ•°æ®å¼•æ“</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* Custom Font Setup */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap');

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #fdfbf7;
            /* Warm neutral background */
            color: #374151;
            /* Soft dark gray text */
        }

        /* Chart Container Styling - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            /* Max width to prevent stretching */
            height: 300px;
            /* Base height */
            max-height: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar for inner content */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 4px;
        }

        .custom-scroll::-webkit-scrollbar-thumb:hover {
            background: #9ca3af;
        }

        /* Interactive Element Styles */
        .nav-item.active {
            background-color: #e5e7eb;
            color: #1f2937;
            font-weight: 600;
            border-left: 4px solid #b45309;
            /* Warm amber/orange accent */
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Utility for hiding elements */
        .hidden-content {
            display: none;
        }
    </style>
</head>

<body class="h-screen flex flex-col md:flex-row overflow-hidden">

    <!-- Chosen Palette: Warm Neutrals (Stone/Warm Gray) with Amber/Terracotta Accents for a grounded, paper-like feel -->
    <!-- Application Structure Plan: 
         Designed as a "Creator's Dashboard" (åˆ›ä½œå·¥ä½œå°). 
         The structure moves from MACRO (Market Trends) to MICRO (Writing Words), following the creative workflow:
         1. Analyze Market (Dashboard) -> 2. Choose Genre (Genre Analysis) -> 3. Build Characters (Archetypes) -> 4. Add Plot Points (Tropes) -> 5. Write Opening (Hooks) -> 6. Polish (Writing Guide).
         This flow allows users to build a story concept step-by-step.
         Navigation is sidebar-based for quick access. 
    -->
    <!-- Visualization & Content Choices:
         1. Market Overview: Chart.js Bar/Doughnut to show "Genre Heat" and "Audience" (Goal: Inform/Compare).
         2. Genre Analysis: Interactive Grid cards that expand to show formulas (Goal: Organize/Inform).
         3. Trope Library: Filterable Tag Cloud + Detail Cards to manage the large volume of tropes (Goal: Organize/Search).
         4. Hook Laboratory: A "Selector" interface to browse templates by category (Goal: Change/Explore).
         5. Archetypes: "Flip cards" or Toggle views to show Surface vs. True traits (Goal: Relationships/Contrast).
         Confirming NO SVG graphics used. NO Mermaid JS used. Only Unicode icons and Canvas charts.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <!-- Mobile Header -->
    <header class="md:hidden bg-white border-b border-stone-200 p-4 flex justify-between items-center z-20">
        <h1 class="text-lg font-bold text-stone-800">AIçŸ­å‰§åˆ›ä½œçŸ¥è¯†åº“</h1>
        <button id="mobile-menu-btn" class="text-stone-600 focus:outline-none">
            <span class="text-2xl">â˜°</span>
        </button>
    </header>

    <!-- Sidebar Navigation -->
    <nav id="sidebar"
        class="bg-stone-50 border-r border-stone-200 w-full md:w-64 flex-shrink-0 absolute md:relative transform -translate-x-full md:translate-x-0 transition-transform duration-300 z-10 h-[calc(100vh-60px)] md:h-screen flex flex-col">
        <div class="p-6 hidden md:block">
            <h1 class="text-2xl font-bold text-stone-800 tracking-tight">AIçŸ­å‰§<br><span
                    class="text-amber-700">åˆ›ä½œçŸ¥è¯†åº“</span></h1>
            <p class="text-xs text-stone-500 mt-2">åŸºäº2024-2025çˆ†æ¬¾æ•°æ®æ¨¡å‹</p>
        </div>

        <div class="flex-1 overflow-y-auto py-2">
            <ul class="space-y-1">
                <li><button onclick="navigate('dashboard')"
                        class="nav-item w-full text-left px-6 py-3 text-stone-600 hover:bg-stone-100 transition-colors flex items-center gap-3"><span
                            class="text-lg">ğŸ“Š</span> å¸‚åœºè¶‹åŠ¿æ´å¯Ÿ</button></li>
                <li><button onclick="navigate('genres')"
                        class="nav-item w-full text-left px-6 py-3 text-stone-600 hover:bg-stone-100 transition-colors flex items-center gap-3"><span
                            class="text-lg">ğŸ­</span> é¢˜ææ·±åº¦è§£æ</button></li>
                <li><button onclick="navigate('tropes')"
                        class="nav-item w-full text-left px-6 py-3 text-stone-600 hover:bg-stone-100 transition-colors flex items-center gap-3"><span
                            class="text-lg">ğŸ§©</span> çˆ†æ¬¾å…ƒç´ åº“</button></li>
                <li><button onclick="navigate('hooks')"
                        class="nav-item w-full text-left px-6 py-3 text-stone-600 hover:bg-stone-100 transition-colors flex items-center gap-3"><span
                            class="text-lg">ğŸ£</span> é»„é‡‘å¼€å±€é’©å­</button></li>
                <li><button onclick="navigate('archetypes')"
                        class="nav-item w-full text-left px-6 py-3 text-stone-600 hover:bg-stone-100 transition-colors flex items-center gap-3"><span
                            class="text-lg">ğŸ‘¤</span> è§’è‰²åŸå‹æ¡£æ¡ˆ</button></li>
                <li><button onclick="navigate('guide')"
                        class="nav-item w-full text-left px-6 py-3 text-stone-600 hover:bg-stone-100 transition-colors flex items-center gap-3"><span
                            class="text-lg">âœï¸</span> è§†å¬åˆ›ä½œé”¦å›Š</button></li>
            </ul>
        </div>

        <div class="p-4 border-t border-stone-200 bg-stone-100">
            <div class="text-xs text-stone-500">
                <p>ç‰ˆæœ¬: v1.0.0</p>
                <p>æ›´æ–°: 2026-02-07</p>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-1 h-full overflow-hidden flex flex-col bg-[#fdfbf7] relative w-full">
        <!-- Scrollable Content Container -->
        <div id="content-container" class="flex-1 overflow-y-auto custom-scroll p-4 md:p-8">

            <!-- SECTION: Dashboard (Market Trends) -->
            <section id="dashboard" class="content-section max-w-6xl mx-auto space-y-8 animate-fade-in">
                <div class="space-y-2">
                    <h2 class="text-3xl font-bold text-stone-800 border-l-4 border-amber-600 pl-4">å¸‚åœºè¶‹åŠ¿æ´å¯Ÿ (2024-2025)
                    </h2>
                    <p class="text-stone-600 leading-relaxed max-w-3xl">
                        æœ¬çœ‹æ¿æ±‡æ€»äº†å½“å‰çŸ­å‰§å¸‚åœºçš„æ ¸å¿ƒæµé‡è¶‹åŠ¿ã€‚é€šè¿‡åˆ†æå¹´åº¦çˆ†æ¬¾æ¦œå•ï¼Œæˆ‘ä»¬è¯†åˆ«å‡ºå¢é•¿æœ€å¿«çš„é¢˜æä¸å—ä¼—ç”»åƒã€‚
                        <strong class="text-amber-700">å…³é”®å‘ç°ï¼š</strong> "å¤ä»‡+ç”œå® "
                        çš„å¤åˆé¢˜ææˆä¸ºæ–°çš„æµé‡å¢é•¿ç‚¹ï¼Œä¸”å—ä¼—å‘ˆç°å¹´è½»åŒ–è¶‹åŠ¿ã€‚åœ¨æ„æ€æ–°é¡¹ç›®æ—¶ï¼Œå»ºè®®ä¼˜å…ˆå‚è€ƒä»¥ä¸‹çƒ­åº¦æ•°æ®ã€‚
                    </p>
                </div>

                <!-- KPI Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                        <div class="text-sm text-stone-500 mb-1">å¹´åº¦æœ€çƒ­é¢˜æ</div>
                        <div class="text-2xl font-bold text-stone-800">å¤ä»‡é€†è¢­</div>
                        <div class="text-xs text-green-600 mt-2">â†‘ ç¯æ¯”å¢é•¿ 35%</div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                        <div class="text-sm text-stone-500 mb-1">å¹³å‡çˆ†æ¬¾å®Œæ’­ç‡</div>
                        <div class="text-2xl font-bold text-stone-800">42.8%</div>
                        <div class="text-xs text-stone-400 mt-2">åŸºå‡†çº¿: 30%</div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                        <div class="text-sm text-stone-500 mb-1">æ–°å…´çƒ­é—¨ç»„åˆ</div>
                        <div class="text-2xl font-bold text-stone-800">æ‚¬ç–‘ + æ‹çˆ±</div>
                        <div class="text-xs text-amber-600 mt-2">â˜… è“æµ·æœºä¼š</div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Genre Popularity Chart -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                        <h3 class="text-lg font-bold text-stone-800 mb-4">é¢˜æçƒ­åº¦æŒ‡æ•° Top 5</h3>
                        <div class="chart-container">
                            <canvas id="genreChart"></canvas>
                        </div>
                        <div class="mt-4 text-sm text-stone-500 bg-stone-50 p-3 rounded">
                            <span class="font-bold">åˆ†æï¼š</span> æˆ˜ç¥/é€†è¢­ç±»ä¾æ—§å æ®åŠå£æ±Ÿå±±ï¼Œä½†æƒ…æ„Ÿç±»ï¼ˆç”œå® /è™æ‹ï¼‰ç”¨æˆ·ç²˜æ€§æ›´é«˜ã€‚
                        </div>
                    </div>

                    <!-- Audience Demographics -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                        <h3 class="text-lg font-bold text-stone-800 mb-4">æ ¸å¿ƒå—ä¼—å¹´é¾„åˆ†å¸ƒ</h3>
                        <div class="chart-container">
                            <canvas id="audienceChart"></canvas>
                        </div>
                        <div class="mt-4 text-sm text-stone-500 bg-stone-50 p-3 rounded">
                            <span class="font-bold">åˆ†æï¼š</span> 18-35å²å¥³æ€§ç”¨æˆ·æ˜¯ä»˜è´¹ä¸»åŠ›å†›ï¼Œå†…å®¹éœ€å…¼é¡¾"çˆ½æ„Ÿ"ä¸"æƒ…æ„Ÿå…±é¸£"ã€‚
                        </div>
                    </div>
                </div>

                <!-- Trending Combinations Table -->
                <div class="bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden">
                    <div class="p-6 border-b border-stone-100">
                        <h3 class="text-lg font-bold text-stone-800">ğŸ“ˆ çƒ­é—¨é¢˜æç»„åˆ (Cross-Genre)</h3>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead class="bg-stone-50 text-stone-500 text-sm">
                                <tr>
                                    <th class="p-4">ç»„åˆåç§°</th>
                                    <th class="p-4">æ„æˆå…ƒç´ </th>
                                    <th class="p-4">çƒ­åº¦è¯„åˆ†</th>
                                    <th class="p-4">é£é™©ç­‰çº§</th>
                                    <th class="p-4">æˆåŠŸæ¡ˆä¾‹</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-stone-100 text-sm">
                                <tr class="hover:bg-stone-50">
                                    <td class="p-4 font-medium text-amber-700">å¤ä»‡å¤§å¥³ä¸» + é¡¶çº§è±ªé—¨</td>
                                    <td class="p-4">é€†è¢­, èº«ä»½æ­éœ², ç”œå® </td>
                                    <td class="p-4"><span class="px-2 py-1 bg-red-100 text-red-700 rounded text-xs">98
                                            (æçƒ­)</span></td>
                                    <td class="p-4 text-stone-500">ä½</td>
                                    <td class="p-4">ã€Šé‡ç”Ÿä¹‹è±ªé—¨ä¸»æ¯ã€‹</td>
                                </tr>
                                <tr class="hover:bg-stone-50">
                                    <td class="p-4 font-medium text-stone-800">æ‚¬ç–‘æ¨ç† + å…ˆå©šåçˆ±</td>
                                    <td class="p-4">æ¢æ¡ˆ, å¥‘çº¦å©šå§», åè½¬</td>
                                    <td class="p-4"><span
                                            class="px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs">92
                                            (ä¸Šå‡)</span></td>
                                    <td class="p-4 text-stone-500">ä¸­</td>
                                    <td class="p-4">ã€Šçœ‹ä¸è§çš„æ•è¾¹äººã€‹</td>
                                </tr>
                                <tr class="hover:bg-stone-50">
                                    <td class="p-4 font-medium text-stone-800">ç°ä»£ç©¿è¶Š + ç³»ç»Ÿç»è¥</td>
                                    <td class="p-4">é‡‘æ‰‹æŒ‡, èŒåœºçˆ½æ–‡</td>
                                    <td class="p-4"><span class="px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs">88
                                            (ç¨³å®š)</span></td>
                                    <td class="p-4 text-stone-500">ä¸­</td>
                                    <td class="p-4">ã€Šå›åˆ°80åšé¦–å¯Œã€‹</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- SECTION: Genre Analysis -->
            <section id="genres" class="content-section hidden-content max-w-6xl mx-auto space-y-8">
                <div class="space-y-2">
                    <h2 class="text-3xl font-bold text-stone-800 border-l-4 border-amber-600 pl-4">é¢˜ææ·±åº¦è§£æ (Genre
                        Decoding)</h2>
                    <p class="text-stone-600 leading-relaxed max-w-3xl">
                        é€‰æ‹©æ­£ç¡®çš„èµ›é“æ˜¯æˆåŠŸçš„ä¸€åŠã€‚æ­¤å¤„æ‹†è§£äº†å½“å‰ä¸‰å¤§ä¸»æµé¢˜æçš„<strong>å™äº‹å…¬å¼</strong>ä¸<strong>æƒ…æ„Ÿå¼§çº¿</strong>ã€‚
                        ç‚¹å‡»ä¸‹æ–¹å¡ç‰‡ï¼Œæ·±å…¥äº†è§£æ¯ä¸ªé¢˜æçš„â€œèµ·æ‰¿è½¬åˆâ€ç»“æ„åŠåˆ›ä½œé¿é›·æŒ‡å—ã€‚
                    </p>
                </div>

                <!-- Genre Selector Tabs -->
                <div class="flex flex-wrap gap-4" id="genre-tabs">
                    <!-- Injected by JS -->
                </div>

                <!-- Dynamic Genre Content -->
                <div id="genre-detail-view"
                    class="bg-white rounded-xl shadow-lg border border-stone-100 overflow-hidden animate-fade-in">
                    <!-- Injected by JS -->
                    <div class="p-12 text-center text-stone-400">
                        è¯·é€‰æ‹©ä¸€ä¸ªé¢˜ææŸ¥çœ‹è¯¦æƒ…
                    </div>
                </div>
            </section>

            <!-- SECTION: Trope Library -->
            <section id="tropes" class="content-section hidden-content max-w-6xl mx-auto space-y-8">
                <div class="space-y-2">
                    <h2 class="text-3xl font-bold text-stone-800 border-l-4 border-amber-600 pl-4">çˆ†æ¬¾å…ƒç´ åº“ (Trope Library)
                    </h2>
                    <p class="text-stone-600 leading-relaxed max-w-3xl">
                        çŸ­å‰§çš„æœ¬è´¨æ˜¯â€œæ¢—â€çš„å¯†é›†æ’åˆ—ã€‚æˆ‘ä»¬æ”¶é›†äº†é«˜è½¬åŒ–ç‡çš„<strong>çˆ†æ¬¾å…ƒç´ </strong>ï¼Œåˆ†ä¸ºèº«ä»½ã€å…³ç³»ã€å†²çªã€è®¾å®šå››å¤§ç±»ã€‚
                        ä½¿ç”¨è¿‡æ»¤å™¨ç­›é€‰å…ƒç´ ï¼Œç‚¹å‡»æŸ¥çœ‹å…·ä½“çš„â€œä½¿ç”¨æ—¶æœºâ€å’Œâ€œé¢„æœŸçˆ½ç‚¹â€ã€‚
                    </p>
                </div>

                <!-- Filters -->
                <div class="flex flex-wrap gap-2 pb-4 border-b border-stone-200">
                    <button
                        class="trope-filter active px-4 py-2 rounded-full text-sm font-medium bg-stone-800 text-white transition-colors"
                        data-category="all">å…¨éƒ¨</button>
                    <button
                        class="trope-filter px-4 py-2 rounded-full text-sm font-medium bg-white border border-stone-300 text-stone-600 hover:bg-stone-100 transition-colors"
                        data-category="identity">ğŸ­ èº«ä»½ç±»</button>
                    <button
                        class="trope-filter px-4 py-2 rounded-full text-sm font-medium bg-white border border-stone-300 text-stone-600 hover:bg-stone-100 transition-colors"
                        data-category="relationship">â¤ï¸ å…³ç³»ç±»</button>
                    <button
                        class="trope-filter px-4 py-2 rounded-full text-sm font-medium bg-white border border-stone-300 text-stone-600 hover:bg-stone-100 transition-colors"
                        data-category="conflict">âš”ï¸ å†²çªç±»</button>
                    <button
                        class="trope-filter px-4 py-2 rounded-full text-sm font-medium bg-white border border-stone-300 text-stone-600 hover:bg-stone-100 transition-colors"
                        data-category="setting">âš™ï¸ è®¾å®šç±»</button>
                </div>

                <!-- Trope Grid -->
                <div id="trope-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Cards injected by JS -->
                </div>
            </section>

            <!-- SECTION: Hook Laboratory -->
            <section id="hooks" class="content-section hidden-content max-w-6xl mx-auto space-y-8">
                <div class="space-y-2">
                    <h2 class="text-3xl font-bold text-stone-800 border-l-4 border-amber-600 pl-4">é»„é‡‘å¼€å±€é’©å­ (Hooks Lab)
                    </h2>
                    <p class="text-stone-600 leading-relaxed max-w-3xl">
                        é»„é‡‘å‰3ç§’å†³å®šç”Ÿæ­»ã€‚è¿™é‡Œæä¾›äº†ç»è¿‡æ•°æ®éªŒè¯çš„<strong>å¼€åœºé’©å­æ¨¡æ¿</strong>ï¼Œæ—¨åœ¨é€šè¿‡æé™åå·®ã€æ‚¬å¿µæˆ–è§†è§‰å¥‡è§‚ç¬é—´ç•™ä½ç”¨æˆ·ã€‚
                        é€‰æ‹©é’©å­ç±»å‹ï¼Œè·å–å¯¹åº”çš„å‰§æœ¬æ¨¡æ¿ã€‚
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Control Panel -->
                    <div class="bg-stone-100 p-6 rounded-xl h-fit">
                        <h3 class="font-bold text-stone-800 mb-4">é€‰æ‹©é’©å­ç±»å‹</h3>
                        <div class="space-y-3">
                            <button onclick="renderHookList('situation')"
                                class="w-full text-left p-4 bg-white rounded-lg shadow-sm hover:shadow border-l-4 border-red-500 transition-all">
                                <div class="font-bold text-stone-800">ğŸ’¥ æƒ…å¢ƒå‹ (Situation)</div>
                                <div class="text-xs text-stone-500 mt-1">ç¾è¾±ã€ç»å¢ƒã€è¯¯ä¼š</div>
                            </button>
                            <button onclick="renderHookList('question')"
                                class="w-full text-left p-4 bg-white rounded-lg shadow-sm hover:shadow border-l-4 border-blue-500 transition-all">
                                <div class="font-bold text-stone-800">â“ æ‚¬å¿µå‹ (Question)</div>
                                <div class="text-xs text-stone-500 mt-1">åå¸¸è¯†ã€é¢„è¨€ã€å€’å™</div>
                            </button>
                            <button onclick="renderHookList('visual')"
                                class="w-full text-left p-4 bg-white rounded-lg shadow-sm hover:shadow border-l-4 border-purple-500 transition-all">
                                <div class="font-bold text-stone-800">ğŸ‘ï¸ è§†è§‰å‹ (Visual)</div>
                                <div class="text-xs text-stone-500 mt-1">å¥‡è§‚ã€è±ªè½¦ã€åŠ¨ä½œ</div>
                            </button>
                        </div>
                    </div>

                    <!-- Display Area -->
                    <div class="lg:col-span-2">
                        <div id="hook-display-area" class="space-y-4">
                            <!-- Injected by JS -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION: Archetypes -->
            <section id="archetypes" class="content-section hidden-content max-w-6xl mx-auto space-y-8">
                <div class="space-y-2">
                    <h2 class="text-3xl font-bold text-stone-800 border-l-4 border-amber-600 pl-4">è§’è‰²åŸå‹æ¡£æ¡ˆ (Archetypes)
                    </h2>
                    <p class="text-stone-600 leading-relaxed max-w-3xl">
                        ç«‹ä½“çš„äººç‰©æ˜¯å‰§æƒ…çš„é©±åŠ¨åŠ›ã€‚ç‚¹å‡»ä¸‹æ–¹è§’è‰²å¡ï¼Œåˆ‡æ¢æŸ¥çœ‹å…¶<strong>è¡¨é¢ç‰¹å¾</strong>ä¸<strong>æ·±å±‚åŠ¨æœº</strong>ã€‚
                        ä¼˜ç§€çš„è§’è‰²è®¾è®¡å¾€å¾€ä¼´éšç€å·¨å¤§çš„åå·®æ„Ÿã€‚
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8" id="archetype-container">
                    <!-- Injected by JS -->
                </div>
            </section>

            <!-- SECTION: Writing Guide -->
            <section id="guide" class="content-section hidden-content max-w-6xl mx-auto space-y-8">
                <div class="space-y-2">
                    <h2 class="text-3xl font-bold text-stone-800 border-l-4 border-amber-600 pl-4">è§†å¬åˆ›ä½œé”¦å›Š (Creation Kit)
                    </h2>
                    <p class="text-stone-600 leading-relaxed max-w-3xl">
                        ä»å‰§æœ¬æ–‡å­—åˆ°é•œå¤´è¯­è¨€çš„è½¬åŒ–æŒ‡å—ã€‚åŒ…å«å¢å¼ºä»£å…¥æ„Ÿçš„<strong>äº”æ„Ÿæå†™è¯æ±‡</strong>ä»¥åŠä¸åŒé¢˜æçš„<strong>è§†è§‰é£æ ¼å»ºè®®</strong>ã€‚
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Sensory Words -->
                    <div class="bg-white rounded-xl shadow-sm border border-stone-100 p-6">
                        <h3 class="text-xl font-bold text-stone-800 mb-4 flex items-center"><span class="mr-2">ğŸ“</span>
                            äº”æ„Ÿæå†™è¯æ±‡åº“</h3>
                        <div class="space-y-6">
                            <div>
                                <h4 class="text-sm font-bold text-stone-500 uppercase tracking-wide mb-2">å†²çªåœºæ™¯
                                    (Conflict)</h4>
                                <div class="flex flex-wrap gap-2">
                                    <span
                                        class="px-3 py-1 bg-red-50 text-red-700 text-sm rounded border border-red-100">ğŸ‘ï¸
                                        é’ç­‹æš´èµ·</span>
                                    <span
                                        class="px-3 py-1 bg-red-50 text-red-700 text-sm rounded border border-red-100">ğŸ”Š
                                        ç“·å™¨ç¢è£‚</span>
                                    <span
                                        class="px-3 py-1 bg-red-50 text-red-700 text-sm rounded border border-red-100">âœ‹
                                        è‚Œè‚‰ç´§ç»·</span>
                                    <span
                                        class="px-3 py-1 bg-red-50 text-red-700 text-sm rounded border border-red-100">ğŸ‘ƒ
                                        é“é”ˆå‘³(è¡€)</span>
                                    <span
                                        class="px-3 py-1 bg-red-50 text-red-700 text-sm rounded border border-red-100">ğŸ‘…
                                        è‹¦æ¶©</span>
                                </div>
                            </div>
                            <div>
                                <h4 class="text-sm font-bold text-stone-500 uppercase tracking-wide mb-2">æµªæ¼«åœºæ™¯ (Romance)
                                </h4>
                                <div class="flex flex-wrap gap-2">
                                    <span
                                        class="px-3 py-1 bg-pink-50 text-pink-700 text-sm rounded border border-pink-100">ğŸ‘ï¸
                                        æŸ”å…‰æ»¤é•œ</span>
                                    <span
                                        class="px-3 py-1 bg-pink-50 text-pink-700 text-sm rounded border border-pink-100">ğŸ”Š
                                        å¿ƒè·³å›å“</span>
                                    <span
                                        class="px-3 py-1 bg-pink-50 text-pink-700 text-sm rounded border border-pink-100">âœ‹
                                        æŒ‡å°–å¾®å‡‰</span>
                                    <span
                                        class="px-3 py-1 bg-pink-50 text-pink-700 text-sm rounded border border-pink-100">ğŸ‘ƒ
                                        æª€æœ¨é¦™</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Visual Guide -->
                    <div class="bg-white rounded-xl shadow-sm border border-stone-100 p-6">
                        <h3 class="text-xl font-bold text-stone-800 mb-4 flex items-center"><span class="mr-2">ğŸ¥</span>
                            è§†è§‰é£æ ¼æŒ‡å—</h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-stone-50 rounded-lg border-l-4 border-stone-800">
                                <h4 class="font-bold text-stone-800">å¤ä»‡é¢˜æ (Revenge)</h4>
                                <ul class="mt-2 space-y-1 text-sm text-stone-600">
                                    <li>â€¢ <strong>é•œå¤´:</strong> å¤šç”¨ç‰¹å†™å¼ºè°ƒçœ¼ç¥ï¼Œä½è§’åº¦æ‹æ‘„å¼ºåŒ–å‹è¿«æ„Ÿã€‚</li>
                                    <li>â€¢ <strong>ç¯å…‰:</strong> é«˜å¯¹æ¯”åº¦ï¼Œä¾§å…‰ï¼Œå¼ºè°ƒé˜´å½±è½®å»“ã€‚</li>
                                    <li>â€¢ <strong>è°ƒè‰²:</strong> å†·è‰²è°ƒä¸ºä¸»ï¼Œé«˜é¥±å’Œåº¦ã€‚</li>
                                    <li>â€¢ <strong>å‰ªè¾‘:</strong> å¿«é€Ÿå‰ªè¾‘ï¼Œæ‰“è„¸æ—¶åˆ»é…åˆé‡éŸ³æ•ˆè·³åˆ‡ã€‚</li>
                                </ul>
                            </div>
                            <div class="p-4 bg-pink-50 rounded-lg border-l-4 border-pink-400">
                                <h4 class="font-bold text-stone-800">ç”œå® é¢˜æ (Romance)</h4>
                                <ul class="mt-2 space-y-1 text-stone-600 text-sm">
                                    <li>â€¢ <strong>é•œå¤´:</strong> ä¸­è¿‘æ™¯åŒäººåŒæ¡†ï¼Œæµ…æ™¯æ·±è™šåŒ–èƒŒæ™¯ã€‚</li>
                                    <li>â€¢ <strong>ç¯å…‰:</strong> æŸ”å…‰ï¼Œæš–è‰²è°ƒï¼ŒèƒŒå…‰è¥é€ å…‰æ™•ã€‚</li>
                                    <li>â€¢ <strong>è°ƒè‰²:</strong> æ¸…æ–°æ˜äº®ï¼Œä½å¯¹æ¯”åº¦ã€‚</li>
                                    <li>â€¢ <strong>å‰ªè¾‘:</strong> èˆ’ç¼“èŠ‚å¥ï¼Œå…³é”®æ—¶åˆ»ï¼ˆå¯¹è§†/å»ï¼‰å‡æ ¼æ…¢æ”¾ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <div class="h-12"></div> <!-- Spacer -->
        </div>
    </main>

    <script>
        // --- DATA STORE (Simulated Research Output) ---
        const researchData = {
            genres: {
                revenge: {
                    name: "å¤ä»‡é€†è¢­ (Revenge)",
                    desc: "å¸‚åœºæœ€çƒ­èµ›é“ï¼Œæ ¸å¿ƒæ˜¯æƒ…ç»ªä»·å€¼çš„é‡Šæ”¾ã€‚",
                    formula: {
                        setup: "ä¸»è§’é­å—æè‡´ç¾è¾±/èƒŒå› (å…¨å®¶è¢«å®³/è¢«å½“ä¼—é€€å©š)",
                        rising: "è·å¾—é‡‘æ‰‹æŒ‡/éšè—èº«ä»½è§‰é†’ï¼Œå¼€å§‹å¸ƒå±€",
                        climax: "å¯¿å®´/å©šç¤¼ç­‰å…¬å¼€åœºåˆï¼Œèº«ä»½æ­éœ²ï¼Œå½“ä¼—æ‰“è„¸",
                        resolution: "åæ´¾ä¸‹è·ªæ±‚é¥¶/å—åˆ°æƒ©ç½šï¼Œä¸»è§’ç™»é¡¶"
                    },
                    keywords: ["éšå¿", "æ‰“è„¸", "é©¬ç”²", "è±ªé—¨"],
                    avoid: ["é“ºå«è¿‡é•¿(è¶…è¿‡3é›†)", "ä¸»è§’æ€§æ ¼åœ£æ¯", "åæ´¾æ™ºå•†æ‰çº¿å¤ªå¿«"]
                },
                romance: {
                    name: "ç”œå® æ‹çˆ± (Romance)",
                    desc: "å¥³æ€§ç”¨æˆ·åŸºæœ¬ç›˜ï¼Œæ ¸å¿ƒæ˜¯'è¢«åšå®šé€‰æ‹©'çš„å®‰å…¨æ„Ÿã€‚",
                    formula: {
                        setup: "æ„å¤–ç›¸é‡ (ä¸€å¤œæƒ…/å¥‘çº¦å©šå§»)",
                        rising: "åŒå±…ç”Ÿæ´»ä¸­çš„æš§æ˜§æ¨æ‹‰ï¼Œç”·ä¸»æ— æ¡ä»¶å® æºº",
                        climax: "è¯¯ä¼šäº§ç”Ÿåˆè¿…é€Ÿè§£é™¤ï¼Œç¡®è®¤å¿ƒæ„",
                        resolution: "ç››å¤§å©šç¤¼/æ€€å­•ï¼Œå¹¸ç¦ç»“å±€"
                    },
                    keywords: ["å¥‘çº¦", "åŒæ´", "æŠ¤å¦»", "éœ¸æ€»"],
                    avoid: ["è™æ‹è¯¯ä¼šè¶…è¿‡5é›†", "ç”·ä¸»ç”±äºçŠ¹è±«ä¸å†³", "æ¶æ¯’å¥³é…æˆä»½è¿‡å¤š"]
                },
                mystery: {
                    name: "æ‚¬ç–‘æ¨ç† (Mystery)",
                    desc: "é«˜å®Œæ’­ç‡èµ›é“ï¼Œæ ¸å¿ƒæ˜¯'å¥½å¥‡å¿ƒ'çš„æŒç»­ç‰µå¼•ã€‚",
                    formula: {
                        setup: "ç¦»å¥‡å‘½æ¡ˆ/å¤±è¸ªï¼Œä¸»è§’å·å…¥å…¶ä¸­",
                        rising: "å±‚å±‚å‰¥èŒ§ï¼Œå‘ç°èº«è¾¹äººçš†æœ‰å«Œç–‘",
                        climax: "ç»ˆæåè½¬ï¼ŒçœŸå‡¶ç«Ÿç„¶æ˜¯...",
                        resolution: "çœŸç›¸å¤§ç™½ï¼Œäººæ€§æ‹·é—®"
                    },
                    keywords: ["çƒ§è„‘", "åè½¬", "äººæ€§", "å¤ä»‡"],
                    avoid: ["é€»è¾‘ç¡¬ä¼¤", "ç»“å±€å¼ºè¡Œæ­£èƒ½é‡", "èŠ‚å¥æ‹–æ²“"]
                }
            },
            tropes: [
                { id: 1, name: "èº«ä»½æ­éœ²", category: "identity", score: 92, desc: "ä¸»è§’çœŸå®èº«ä»½ï¼ˆé¦–å¯Œ/æˆ˜ç¥ï¼‰åœ¨å…³é”®æ—¶åˆ»æ›å…‰ã€‚", timing: "ç¬¬10-15é›†é«˜æ½®ç‚¹" },
                { id: 2, name: "å¥‘çº¦å©šå§»", category: "relationship", score: 88, desc: "å› åˆ©ç›Šç»“åˆï¼Œå…ˆå©šåçˆ±ï¼Œæ—¥ä¹…ç”Ÿæƒ…ã€‚", timing: "ç¬¬1-3é›†å»ºç«‹å…³ç³»" },
                { id: 3, name: "å½“ä¼—é€€å©š", category: "conflict", score: 95, desc: "å¼€å±€é­å—æå¤§ç¾è¾±ï¼Œç¡®ç«‹å¤ä»‡åŠ¨æœºã€‚", timing: "ç¬¬1é›†å‰30ç§’" },
                { id: 4, name: "éšè—å¤§ä½¬", category: "identity", score: 90, desc: "æ‰«åœ°åƒ§æ¨¡å¼ï¼Œè¡¨é¢åºŸæŸ´å®åˆ™æ— æ•Œã€‚", timing: "è´¯ç©¿å…¨å‰§" },
                { id: 5, name: "æ‰‹æ’•ç»¿èŒ¶", category: "conflict", score: 85, desc: "é‰´åˆ«å¹¶æƒ©æ²»å¿ƒæœºé…è§’ï¼Œçˆ½æ„Ÿæ¥æºã€‚", timing: "æ¯5-8é›†ä¸€ä¸ªå°é«˜æ½®" },
                { id: 6, name: "æ—¶é—´å¾ªç¯", category: "setting", score: 82, desc: "å›°åœ¨åŒä¸€å¤©/åŒä¸€äº‹ä»¶ï¼Œå¯»æ‰¾ç ´å±€ä¹‹æ³•ã€‚", timing: "è®¾å®šåŸºç¡€" },
                { id: 7, name: "å¸¦çƒè·‘", category: "relationship", score: 86, desc: "å¥³ä¸»æ€€å­•ç¦»å¼€ï¼Œå¤šå¹´åå¸¦å¤©æ‰èŒå®å½’æ¥ã€‚", timing: "å¼€å±€æˆ–ä¸­æ®µè½¬æŠ˜" },
                { id: 8, name: "ç³»ç»Ÿç»‘å®š", category: "setting", score: 78, desc: "è·å¾—å¤–æŒ‚ç³»ç»Ÿï¼Œé€†è¢­äººç”Ÿã€‚", timing: "ç¬¬1é›†" },
                { id: 9, name: "çœŸå‡åƒé‡‘", category: "identity", score: 89, desc: "èº«ä»½é”™ä½å¼•å‘çš„è±ªé—¨æ©æ€¨ã€‚", timing: "å¼€å±€å†²çªç‚¹" }
            ],
            hooks: {
                situation: [
                    { title: "æé™ç¾è¾±", template: "ä¸»è§’æ­£åœ¨é­å—[è¢«æœªå©šå¤«å½“ä¼—æŠ›å¼ƒ/è¢«ä¸Šå¸æ³¼å’–å•¡]ï¼Œä½†æ‰‹ä¸­ç´§æ¡ç€[ç™¾äº¿åˆåŒ/çœŸå®èº«ä»½è¯æ˜]ã€‚", score: 95 },
                    { title: "ç”Ÿæ­»ä¸€çº¿", template: "ä¸»è§’[è¢«æ´»åŸ‹/è½¦ç¥¸]æ¿’æ­»ï¼Œçªç„¶[é‡ç”Ÿ/ç³»ç»Ÿè§‰é†’]å›åˆ°ä¸‰å¹´å‰ã€‚", score: 92 }
                ],
                question: [
                    { title: "åå¸¸è¯†é™ˆè¿°", template: "â€œè°èƒ½æƒ³åˆ°ï¼Œè¿™ä¸ªæ¡åƒåœ¾çš„è€å¤´ï¼Œç«Ÿç„¶æ˜¯[ä¸–ç•Œé¦–å¯Œ]çš„äº²ç”Ÿçˆ¶äº²ï¼Ÿâ€", score: 88 },
                    { title: "ç›´æ¥æé—®", template: "â€œå¦‚æœç»™ä½ [ä¸€äº¿]ï¼Œä½†ä»£ä»·æ˜¯[å¤±å»è®°å¿†]ï¼Œä½ æ„¿æ„å—ï¼Ÿâ€", score: 85 }
                ],
                visual: [
                    { title: "å¼ºçƒˆå¯¹æ¯”", template: "ç”»é¢å·¦è¾¹æ˜¯[è±ªåå©šç¤¼]ï¼Œç”»é¢å³è¾¹æ˜¯[ç©¿ç€ç ´çƒ‚çš„ä¸»è§’]æ¨é—¨è€Œå…¥ã€‚", score: 90 },
                    { title: "ç¥ç§˜åœºæ™¯", template: "ä¸»è§’åœ¨[æš´é›¨ä¸­]æŒ–å¼€ä¸€åº§åŸå¢“ï¼Œæ£ºæé‡Œç«Ÿç„¶æ˜¯[ç©ºçš„/è‡ªå·±]ã€‚", score: 87 }
                ]
            },
            archetypes: [
                {
                    id: "rev_fem",
                    name: "å¤ä»‡å¥³ä¸» (Revenge Protagonist)",
                    role: "Protagonist",
                    surface: ["æŸ”å¼±", "ä½è°ƒ", "å®¶åº­ä¸»å¦‡/å°èŒå‘˜"],
                    true_trait: ["é¡¶çº§é»‘å®¢/ç¥åŒ»", "å†·é™æœæ•¢", "èº«æ‰‹ä¸å‡¡"],
                    motto: "â€œæ›¾ç»å¤±å»çš„ï¼Œæˆ‘ä¼šäº²æ‰‹æ‹¿å›æ¥ã€‚â€"
                },
                {
                    id: "ceo_male",
                    name: "æ·±æƒ…éœ¸æ€» (Loyal CEO)",
                    role: "Love Interest",
                    surface: ["å†·é¢", "ä¸è¿‘å¥³è‰²", "æ‰‹æ®µç‹ è¾£"],
                    true_trait: ["åªå¯¹ä¸€äººæ¸©æŸ”", "æŠ¤çŸ­ç‹‚é­”", "æœ‰ç€ä¸ä¸ºäººçŸ¥çš„ç«¥å¹´åˆ›ä¼¤"],
                    motto: "â€œåŠ¨å¥¹ä¸€ä¸‹ï¼Œæˆ‘è¦æ•´ä¸ªå®¶æ—é™ªè‘¬ã€‚â€"
                }
            ]
        };

        // --- APP STATE ---
        let currentChart_genre = null;
        let currentChart_audience = null;

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDashboardCharts();
            setupNavigation();
            setupGenreTabs();
            renderTropeGrid('all');
            setupTropeFilters();
            renderHookList('situation'); // Default hook view
            renderArchetypes();

            // Mobile Menu Toggle
            document.getElementById('mobile-menu-btn').addEventListener('click', () => {
                const sidebar = document.getElementById('sidebar');
                if (sidebar.classList.contains('-translate-x-full')) {
                    sidebar.classList.remove('-translate-x-full');
                } else {
                    sidebar.classList.add('-translate-x-full');
                }
            });
        });

        // --- NAVIGATION ---
        function navigate(sectionId) {
            // Update UI Sidebar
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            const activeBtn = Array.from(document.querySelectorAll('.nav-item')).find(el => el.getAttribute('onclick').includes(sectionId));
            if (activeBtn) activeBtn.classList.add('active');

            // Show Content
            document.querySelectorAll('.content-section').forEach(el => el.classList.add('hidden-content'));
            const target = document.getElementById(sectionId);
            target.classList.remove('hidden-content');
            target.classList.add('animate-fade-in');

            // Close mobile menu if open
            if (window.innerWidth < 768) {
                document.getElementById('sidebar').classList.add('-translate-x-full');
            }

            // Scroll to top
            document.getElementById('content-container').scrollTop = 0;
        }

        function setupNavigation() {
            // Set initial active state
            document.querySelector('.nav-item').classList.add('active');
        }

        // --- DASHBOARD CHARTS ---
        function renderDashboardCharts() {
            const ctxGenre = document.getElementById('genreChart').getContext('2d');
            const ctxAudience = document.getElementById('audienceChart').getContext('2d');

            Chart.defaults.font.family = "'Noto Sans SC', sans-serif";
            Chart.defaults.color = '#6b7280';

            currentChart_genre = new Chart(ctxGenre, {
                type: 'bar',
                data: {
                    labels: ['å¤ä»‡é€†è¢­', 'ç”œå® æ‹çˆ±', 'æ‚¬ç–‘æ¨ç†', 'å¤è£…å®«æ–—', 'ç°ä»£èŒåœº'],
                    datasets: [{
                        label: 'å¸‚åœºçƒ­åº¦æŒ‡æ•°',
                        data: [95, 88, 75, 60, 55],
                        backgroundColor: [
                            'rgba(180, 83, 9, 0.8)', // Amber 700
                            'rgba(236, 72, 153, 0.8)', // Pink 500
                            'rgba(124, 58, 237, 0.8)', // Purple 600
                            'rgba(156, 163, 175, 0.8)', // Gray 400
                            'rgba(156, 163, 175, 0.8)'
                        ],
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: { beginAtZero: true, grid: { color: '#f3f4f6' } },
                        x: { grid: { display: false } }
                    }
                }
            });

            currentChart_audience = new Chart(ctxAudience, {
                type: 'doughnut',
                data: {
                    labels: ['å¥³æ€§ 18-25', 'å¥³æ€§ 26-35', 'ç”·æ€§ 18-30', 'å…¶ä»–'],
                    datasets: [{
                        data: [45, 30, 15, 10],
                        backgroundColor: [
                            '#ec4899', // Pink
                            '#be185d', // Dark Pink
                            '#3b82f6', // Blue
                            '#d1d5db'  // Gray
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' }
                    }
                }
            });
        }

        // --- GENRE LOGIC ---
        function setupGenreTabs() {
            const container = document.getElementById('genre-tabs');
            const keys = Object.keys(researchData.genres);

            keys.forEach((key, index) => {
                const genre = researchData.genres[key];
                const btn = document.createElement('button');
                btn.className = `px-6 py-3 rounded-lg border border-stone-200 bg-white hover:border-amber-500 hover:text-amber-700 font-medium transition-all shadow-sm ${index === 0 ? 'border-amber-500 text-amber-700 ring-1 ring-amber-500' : 'text-stone-600'}`;
                btn.innerText = genre.name;
                btn.onclick = () => {
                    // Reset buttons
                    Array.from(container.children).forEach(b => {
                        b.classList.remove('border-amber-500', 'text-amber-700', 'ring-1', 'ring-amber-500');
                        b.classList.add('text-stone-600', 'border-stone-200');
                    });
                    // Active state
                    btn.classList.remove('text-stone-600', 'border-stone-200');
                    btn.classList.add('border-amber-500', 'text-amber-700', 'ring-1', 'ring-amber-500');

                    renderGenreDetail(key);
                };
                container.appendChild(btn);
            });

            // Initial Render
            renderGenreDetail(keys[0]);
        }

        function renderGenreDetail(key) {
            const data = researchData.genres[key];
            const container = document.getElementById('genre-detail-view');

            container.innerHTML = `
                <div class="p-8 border-b border-stone-100 bg-stone-50">
                    <h3 class="text-2xl font-bold text-stone-800">${data.name}</h3>
                    <p class="text-stone-600 mt-2">${data.desc}</p>
                    <div class="mt-4 flex flex-wrap gap-2">
                        ${data.keywords.map(k => `<span class="px-3 py-1 bg-white border border-stone-200 rounded text-sm text-stone-600 font-medium">#${k}</span>`).join('')}
                    </div>
                </div>
                <div class="p-8 grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-lg font-bold text-amber-700 mb-4 flex items-center">
                            <span class="bg-amber-100 p-1 rounded mr-2">ğŸ“</span> æ ¸å¿ƒå…¬å¼ (Core Formula)
                        </h4>
                        <div class="space-y-4 relative pl-4 border-l-2 border-stone-200">
                            <div class="relative">
                                <span class="absolute -left-[21px] top-1 w-4 h-4 rounded-full bg-stone-300"></span>
                                <h5 class="font-bold text-stone-800 text-sm">1. Setup (é“ºå«)</h5>
                                <p class="text-sm text-stone-600 mt-1">${data.formula.setup}</p>
                            </div>
                            <div class="relative">
                                <span class="absolute -left-[21px] top-1 w-4 h-4 rounded-full bg-stone-300"></span>
                                <h5 class="font-bold text-stone-800 text-sm">2. Rising (å‡çº§)</h5>
                                <p class="text-sm text-stone-600 mt-1">${data.formula.rising}</p>
                            </div>
                            <div class="relative">
                                <span class="absolute -left-[21px] top-1 w-4 h-4 rounded-full bg-amber-500 ring-4 ring-amber-100"></span>
                                <h5 class="font-bold text-amber-700 text-sm">3. Climax (é«˜æ½®)</h5>
                                <p class="text-sm text-stone-600 mt-1 font-medium">${data.formula.climax}</p>
                            </div>
                            <div class="relative">
                                <span class="absolute -left-[21px] top-1 w-4 h-4 rounded-full bg-stone-300"></span>
                                <h5 class="font-bold text-stone-800 text-sm">4. Resolution (ç»“å±€)</h5>
                                <p class="text-sm text-stone-600 mt-1">${data.formula.resolution}</p>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 class="text-lg font-bold text-red-700 mb-4 flex items-center">
                            <span class="bg-red-100 p-1 rounded mr-2">ğŸš«</span> é¿é›·æŒ‡å— (Don'ts)
                        </h4>
                        <ul class="space-y-3">
                            ${data.avoid.map(item => `
                                <li class="flex items-start text-stone-600 text-sm bg-red-50 p-3 rounded">
                                    <span class="mr-2 text-red-500">âœ–</span> ${item}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                </div>
            `;
        }

        // --- TROPE LOGIC ---
        function setupTropeFilters() {
            const btns = document.querySelectorAll('.trope-filter');
            btns.forEach(btn => {
                btn.addEventListener('click', () => {
                    btns.forEach(b => {
                        b.classList.remove('bg-stone-800', 'text-white');
                        b.classList.add('bg-white', 'text-stone-600');
                    });
                    btn.classList.remove('bg-white', 'text-stone-600');
                    btn.classList.add('bg-stone-800', 'text-white');

                    renderTropeGrid(btn.dataset.category);
                });
            });
        }

        function renderTropeGrid(filter) {
            const container = document.getElementById('trope-grid');
            container.innerHTML = '';

            const filteredData = filter === 'all'
                ? researchData.tropes
                : researchData.tropes.filter(t => t.category === filter);

            filteredData.forEach(trope => {
                const card = document.createElement('div');
                card.className = 'bg-white p-6 rounded-xl border border-stone-200 card-hover flex flex-col justify-between';

                let icon = '';
                if (trope.category === 'identity') icon = 'ğŸ­';
                else if (trope.category === 'relationship') icon = 'â¤ï¸';
                else if (trope.category === 'conflict') icon = 'âš”ï¸';
                else icon = 'âš™ï¸';

                card.innerHTML = `
                    <div>
                        <div class="flex justify-between items-start mb-3">
                            <span class="text-2xl">${icon}</span>
                            <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded">æˆåŠŸç‡ ${trope.score}%</span>
                        </div>
                        <h4 class="text-lg font-bold text-stone-800 mb-2">${trope.name}</h4>
                        <p class="text-sm text-stone-500 mb-4">${trope.desc}</p>
                    </div>
                    <div class="pt-4 border-t border-stone-100 text-xs text-stone-400">
                        <span class="font-bold text-stone-600">æœ€ä½³æ—¶æœº:</span> ${trope.timing}
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // --- HOOK LOGIC ---
        function renderHookList(type) {
            const container = document.getElementById('hook-display-area');
            const hooks = researchData.hooks[type];

            let colorClass = 'border-stone-200';
            if (type === 'situation') colorClass = 'border-red-500';
            if (type === 'question') colorClass = 'border-blue-500';
            if (type === 'visual') colorClass = 'border-purple-500';

            container.innerHTML = `
                <div class="p-4 bg-white border border-stone-200 rounded-lg mb-4">
                    <h4 class="font-bold text-stone-800">ğŸ’¡ åˆ›ä½œå»ºè®®</h4>
                    <p class="text-sm text-stone-600 mt-1">
                        ${type === 'situation' ? 'é‡ç‚¹åœ¨äºåˆ¶é€ "å·¨å¤§çš„åå·®"å’Œ"ä¸å¯è°ƒå’Œçš„çŸ›ç›¾"ã€‚' :
                    type === 'question' ? 'ç”¨ä¸€ä¸ªæ‰“ç ´å¸¸è¯†çš„é—®é¢˜ï¼Œå¼ºè¿«è§‚ä¼—å¤§è„‘å®•æœºï¼Œå¿…é¡»çœ‹ä¸‹å»å¯»æ‰¾ç­”æ¡ˆã€‚' :
                        'ä¸è¦è¯´è¯ï¼Œç›´æ¥ç”¨ç”»é¢å†²å‡»åŠ›ã€‚å‰3ç§’ä¸è¦æœ‰ä»»ä½•æ— å…³é•œå¤´ã€‚'}
                    </p>
                </div>
            `;

            hooks.forEach(hook => {
                const el = document.createElement('div');
                el.className = `p-6 bg-white rounded-xl shadow-sm border-l-4 ${colorClass} animate-fade-in`;
                el.innerHTML = `
                    <div class="flex justify-between mb-2">
                        <h5 class="font-bold text-stone-800">${hook.title}</h5>
                        <span class="text-xs font-bold text-stone-400">è¯„åˆ†: ${hook.score}</span>
                    </div>
                    <div class="p-3 bg-stone-50 rounded border border-stone-200 font-mono text-sm text-stone-700">
                        ${hook.template}
                    </div>
                    <div class="mt-2 text-right">
                        <button class="text-xs text-amber-600 hover:underline" onclick="navigator.clipboard.writeText('${hook.template.replace(/'/g, "\\'")}')">å¤åˆ¶æ¨¡æ¿</button>
                    </div>
                `;
                container.appendChild(el);
            });
        }

        // --- ARCHETYPE LOGIC ---
        function renderArchetypes() {
            const container = document.getElementById('archetype-container');

            researchData.archetypes.forEach(char => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-lg overflow-hidden border border-stone-100 flex flex-col md:flex-row';

                card.innerHTML = `
                    <div class="bg-stone-800 p-6 flex flex-col justify-center items-center text-white md:w-1/3">
                        <div class="text-4xl mb-2">ğŸ‘¤</div>
                        <h3 class="text-xl font-bold text-center">${char.name}</h3>
                        <span class="text-xs uppercase tracking-wider mt-1 opacity-70">${char.role}</span>
                    </div>
                    <div class="p-6 flex-1">
                        <div class="mb-4">
                            <h4 class="text-sm font-bold text-stone-400 uppercase tracking-wide mb-1">Surface (è¡¨è±¡)</h4>
                            <div class="flex flex-wrap gap-2">
                                ${char.surface.map(s => `<span class="px-2 py-1 bg-stone-100 text-stone-600 text-xs rounded">${s}</span>`).join('')}
                            </div>
                        </div>
                        <div class="mb-6">
                            <h4 class="text-sm font-bold text-amber-600 uppercase tracking-wide mb-1">True Self (çœŸç›¸)</h4>
                            <div class="flex flex-wrap gap-2">
                                ${char.true_trait.map(t => `<span class="px-2 py-1 bg-amber-50 text-amber-700 text-xs rounded border border-amber-100">${t}</span>`).join('')}
                            </div>
                        </div>
                        <div class="p-3 bg-stone-50 border-l-2 border-stone-300 italic text-stone-600 text-sm">
                            ${char.motto}
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

    </script>
</body>

</html>