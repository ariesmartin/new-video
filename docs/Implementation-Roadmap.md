# AI 短剧台 - 实现路线图

## 文档信息

| 项目 | 内容 |
|------|------|
| 产品名称 | AI 短剧台 (AI Drama Studio) |
| 版本号 | V3.0 |
| 文档类型 | 实现路线图 / 开发计划 |
| 创建日期 | 2026-02-02 |
| 当前状态 | 开发阶段 (约 85% 核心功能已实现) |

## 1. 项目总览

### 1.1 当前实现状态

```
整体进度: ████████████████████░░░░░  85%

核心架构:  ████████████████████████░  95%  ✅ 稳定
数据模型:  █████████████████████████  100% ✅ 完成
后端 API:  ████████████████████░░░░░  85%  ✅ 可用
前端基础:  ██████████████░░░░░░░░░░░  60%  🟡 需完善
SDUI 协议:  ██████████████░░░░░░░░░░░  70%  🟡 需完善
生产模块:  ██░░░░░░░░░░░░░░░░░░░░░░░  10%  🔴 待实现
后期制作:  ░░░░░░░░░░░░░░░░░░░░░░░░░  0%   🔴 待实现
```

### 1.2 关键里程碑

| 里程碑 | 目标日期 | 状态 | 关键交付物 |
|--------|----------|------|-----------|
| M1: 核心稳定 | 已完成 | ✅ | LangGraph 主图、数据库 Schema、基础 API |
| M2: 功能完善 | 2026-02-16 | 🔄 | SDUI 完整实现、全局 AI 助手、工作台重构 |
| M3: 生产就绪 | 2026-03-02 | ⏳ | 分镜生图、视频生成、Analysis Lab 可视化 |
| M4: 完整流程 | 2026-03-16 | ⏳ | TTS/BGM/字幕/合成、剪映导出 |
| M5: 产品发布 | 2026-03-30 | ⏳ | 性能优化、文档完善、部署上线 |

## 2. 开发阶段规划

### Phase 1: 核心功能完善 (2周)

**目标**：完善现有 85% 的实现，达到可演示状态

| 任务 ID | 任务名称 | 工作量 | 依赖 | 负责人 | 验收标准 |
|---------|---------|--------|------|--------|---------|
| P0-001 | 完善 ActionBlockRenderer.tsx | 2d | - | Frontend | 支持所有 block_type |
| P0-002 | 实现 /api/action 端点 | 1d | - | Backend | Action 处理正确，返回 SDUI |
| P0-003 | 重构全局 AI 助手面板 | 3d | P0-001 | Frontend | 320px 可折叠，上下文显示 |
| P0-004 | 工作台 Dashboard 重构 | 3d | P0-003 | Frontend | 符合 V2 设计，极速模式 |
| P0-005 | 小说编写工坊布局 | 2d | P0-003 | Frontend | 400px 侧边栏，快捷按钮 |
| P0-006 | Prompt SDUI 对齐 | 2d | - | AI/Backend | 所有 Prompt 返回 UI 块 |
| P0-007 | 集成测试 & Bugfix | 2d | P0-001~006 | All | 核心流程跑通 |

### Phase 2: 功能扩展 (2周)

**目标**：实现生产模块核心功能

| 任务 ID | 任务名称 | 工作量 | 依赖 | 负责人 | 验收标准 |
|---------|---------|--------|------|--------|---------|
| P1-001 | 分镜生图模块架构 | 2d | - | Architecture | 设计图片生成流程 |
| P1-002 | 集成 Nano Banana / Midjourney API | 3d | P1-001 | Backend | API 调用正常 |
| P1-003 | 图片生成 Job 队列 | 2d | P1-002 | Backend | 异步处理，进度反馈 |
| P1-004 | 分镜卡片图片展示 | 2d | P1-002 | Frontend | 图片加载、占位符 |
| P1-005 | 风格选择器 UI | 1d | - | Frontend | 9种风格选择 |
| P1-006 | Analysis Lab 数据接口 | 1d | - | Backend | 情绪曲线数据 |
| P1-007 | 视频生成模块架构 | 2d | P1-001 | Architecture | 设计视频生成流程 |
| P1-008 | 集成 Sora / Runway API | 3d | P1-007 | Backend | API 调用正常 |

### Phase 3: 生产模块完整化 (2周)

**目标**：实现后期制作全流程

| 任务 ID | 任务名称 | 工作量 | 依赖 | 负责人 | 验收标准 |
|---------|---------|--------|------|--------|---------|
| P2-001 | TTS 服务集成 | 2d | - | Backend | Gemini TTS / ElevenLabs |
| P2-002 | 音色库管理 | 2d | P2-001 | Backend | 多音色选择 |
| P2-003 | 角色-音色绑定 | 1d | P2-002 | Frontend | 每个角色绑定音色 |
| P2-004 | 批量 TTS 生成 | 2d | P2-003 | Backend | 批量处理剧本 |
| P2-005 | BGM 生成集成 | 2d | - | Backend | Suno V3 API |
| P2-006 | BGM 风格选择 | 1d | P2-005 | Frontend | 风格预设 |
| P2-007 | 语音识别 (STT) | 2d | P2-001 | Backend | 从配音生成字幕 |
| P2-008 | 字幕时间轴对齐 | 2d | P2-007 | Backend | 自动对齐 |
| P2-009 | 字幕样式编辑器 | 2d | P2-008 | Frontend | 字体、颜色、位置 |
| P2-010 | 视频合成引擎 | 3d | P2-004,009 | Backend | FFmpeg 合成 |
| P2-011 | 轨道编辑器 UI | 3d | P2-010 | Frontend | 多轨道时间线 |
| P2-012 | 导出功能 | 1d | P2-011 | Frontend | MP4/MOV/剪映草稿 |

### Phase 4: 优化与发布 (2周)

**目标**：性能优化、文档完善、部署上线

| 任务 ID | 任务名称 | 工作量 | 依赖 | 负责人 | 验收标准 |
|---------|---------|--------|------|--------|---------|
| P3-001 | 画布性能优化 | 2d | - | Frontend | 60fps，100+ 卡片 |
| P3-002 | 虚拟滚动实现 | 2d | - | Frontend | 长列表优化 |
| P3-003 | API 响应优化 | 2d | - | Backend | < 200ms |
| P3-004 | 缓存策略优化 | 2d | - | Backend | Redis 缓存命中率 > 80% |
| P3-005 | Bug 修复冲刺 | 3d | - | All | P0/P1 Bug 清零 |
| P3-006 | API 文档完善 | 2d | - | Backend | Swagger/OpenAPI |
| P3-007 | 用户手册编写 | 2d | - | Product | 完整使用指南 |
| P3-008 | Docker 化部署 | 2d | - | DevOps | docker-compose |
| P3-009 | CI/CD 流程 | 2d | P3-008 | DevOps | GitHub Actions |
| P3-010 | 生产环境部署 | 2d | P3-009 | DevOps | Railway/Render |
| P3-011 | 发布检查清单 | 1d | P3-010 | All | 验收通过 |

## 3. 验收标准

### M2 验收标准 (Phase 1 结束)

- [ ] 用户可以通过 AI 助手完成项目创建
- [ ] Action 按钮点击后正确触发后端逻辑
- [ ] 所有 7 种 SDUI block_type 正常渲染
- [ ] 工作台 Dashboard 布局符合设计稿
- [ ] 小说编写工坊支持续写/扩写/润色
- [ ] 核心流程跑通无阻塞

### M3 验收标准 (Phase 2 结束)

- [ ] 分镜生图功能可用
- [ ] 图片生成进度可实时查看
- [ ] Analysis Lab 情绪曲线正常显示
- [ ] 视频生成功能可用
- [ ] 视频生成进度可实时查看

### M4 验收标准 (Phase 3 结束)

- [ ] TTS 配音功能完整
- [ ] BGM 生成功能可用
- [ ] 字幕生成功能可用
- [ ] 视频合成功能可用
- [ ] 可以导出完整视频文件

### M5 验收标准 (Phase 4 结束)

- [ ] 画布性能 60fps (100 卡片)
- [ ] 无 P0/P1 级别 Bug
- [ ] 文档完整
- [ ] 部署流程自动化
- [ ] 生产环境稳定运行

## 4. 资源需求

### 人力资源

| 角色 | 人数 | 职责 | 投入时间 |
|------|------|------|---------|
| 前端工程师 | 2 | React/TypeScript 开发 | 全职 8 周 |
| 后端工程师 | 2 | Python/FastAPI 开发 | 全职 8 周 |
| AI 工程师 | 1 | Prompt 工程/Agent 调优 | 全职 4 周 |
| 设计师 | 1 | UI/UX 设计 | 兼职 4 周 |
| 测试工程师 | 1 | 测试/QA | 兼职 4 周 |

### 技术资源

| 资源 | 用途 | 预估成本 |
|------|------|---------|
| Supabase | 数据库 + Auth | $25/月 |
| Upstash Redis | 缓存 + 队列 | $20/月 |
| Railway/Render | 后端托管 | $50/月 |
| Vercel | 前端托管 | $20/月 |
| LLM APIs | 文本生成 | $200-500/月 |
| 图片生成 | Nano Banana/Midjourney | $100-300/月 |
| 视频生成 | Sora/Runway | $200-500/月 |

## 5. 风险与应对

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|---------|
| Sora API 延迟发布 | 中 | 高 | 备选 Runway/Pika |
| 图片生成成本高 | 中 | 中 | 实现语义缓存 |
| 前端重构工作量超预期 | 中 | 高 | 优先核心流程 |
| 视频合成复杂度高 | 中 | 高 | MVP 阶段用简单拼接 |

## 6. 文档交付物

| 文档 | 责任人 | 状态 |
|------|--------|------|
| System-Architecture-V3.md | Architecture | ✅ 已完成 |
| Product-Spec-V3.md | Product | ✅ 已完成 |
| Frontend-Design-V3.md | Design | 🔄 进行中 |
| Implementation-Roadmap.md | PM | ✅ 已完成 |
| API Documentation | Backend | ⏳ 待开始 |
| User Manual | Product | ⏳ 待开始 |

---

**文档结束**

*本文档是 AI 短剧台项目的完整实施路线图。当前处于 Phase 1 开发阶段，核心架构已稳定。按计划执行，预计 8 周后达到 M5 发布里程碑。*

**最后更新**: 2026-02-02